# 피부과 예약 관리 시스템 백엔드 API - 과제 내용

## 📋 도메인 정의

본 과제에서는 **피부과 예약 관리 시스템**을 구축합니다. 이 시스템은 예약제로 운영되는 피부과에서 여러 의사가 각자의 진료 일정에 따라 환자를 진료하는 상황을 가정하고 있습니다.

### 시스템 개요

- **환자 관점**: 원하는 의사와 시간대를 선택하여 예약하고, 본인의 예약 내역을 조회하거나 취소할 수 있습니다.
- **관리자 관점**: 의사 정보와 진료 일정을 관리하고, 전체 예약 현황을 실시간으로 파악하여 운영 효율성을 높일 수 있습니다.

---

## 🔑 주요 비즈니스 로직

본 시스템에서 구현해야 할 핵심 비즈니스 규칙은 다음과 같습니다:

### 1. 병원 운영 시간 관리
병원은 통일된 운영 시간을 가지며, 모든 의사는 동일한 시간대에 근무합니다.
- 예: 월요일~금요일 10:00~18:00 진료, 점심시간 13:00~14:00 제외
- 의사별 개별 스케줄은 관리하지 않습니다.

### 2. 진료 항목별 소요 시간
진료 항목(치료 유형)에 따라 예약에 필요한 시간이 다릅니다.
- 예: 기본 상담 20분, 레이저 시술 60분, 복합 치료 90분
- 예약 시 선택한 진료 항목의 소요 시간만큼 시간대가 할당됩니다.

### 3. 예약 중복 방지
동일한 의사에게 동일한 시간대에는 중복 예약이 불가능합니다.
- 같은 의사의 예약 시간이 겹치지 않도록 관리해 주시기 바랍니다.
- 동시 진료 가능 인원수(병원 전체 수용 인원) 제한도 고려해야 합니다.

### 4. 초진/재진 자동 판단
환자의 초진/재진 여부는 과거 완료된 예약 기록을 기반으로 자동 판단됩니다.
- 해당 환자의 과거 **완료된** 예약 이력이 없으면 **초진**
- 과거 **완료된** 예약 이력이 있으면 **재진**
- 취소된 예약이나 미완료 예약은 초진/재진 판단에 포함되지 않습니다.
- 예약 생성 시점에 자동으로 판단하여 저장해 주시기 바랍니다.

### 5. 예약 상태 관리
관리자는 예약 상태를 실시간으로 추적하고 관리할 수 있어야 합니다.
- 예약 상태: 예약대기 → 확정 → 완료 또는 취소
- 각 상태별 통계 조회가 가능해야 합니다.

---

## ⏰ 예약 시간 관리 정책

시스템의 예약 시간 관리는 다음 규칙을 따릅니다:

### 1. 예약 시간 간격 (15분 단위)
환자가 선택할 수 있는 예약 시작 시간은 **15분 간격**으로 고정됩니다.
- 예: 10:00, 10:15, 10:30, 10:45, 11:00, ...
- 이는 병원의 운영 효율성을 위한 정책입니다.

### 2. 진료 항목 소요 시간 (30분 단위)
진료 항목의 소요 시간은 **30분 단위**로만 설정 가능합니다.
- 예: 30분, 60분, 90분, 120분
- 실제 예약 시에는 시작 시간(15분 단위) + 소요 시간(30분 단위)만큼 시간대가 할당됩니다.

### 3. 병원 시간대별 동시 진료 인원 제한
병원은 각 시간대(30분 단위)별로 동시에 진료 가능한 최대 인원수를 지정할 수 있습니다.
- 예: 10:00~10:30 시간대에 최대 2명, 10:30~11:00 시간대에 최대 3명
- 이는 병원의 전체 수용 능력(대기실, 진료실 수 등)을 반영한 것입니다.

### 4. 예약 가능 시간대 노출
환자에게는 예약 가능한 시간대만 제공되어야 합니다.
- 이미 예약이 가득 찬 시간대는 선택지에서 제외
- 병원 운영 시간이 아닌 시간대도 제외 (영업시간 외, 점심시간 등)
- 병원의 동시 진료 가능 인원이 초과된 시간대도 제외

---

## 💡 구현 시 참고사항

위 도메인 로직을 충실히 구현하되, 실제 운영 환경을 고려한 확장 가능한 설계를 권장합니다. 비즈니스 규칙이 변경되거나 추가될 수 있음을 염두에 두고 개발해 주시기 바랍니다.
